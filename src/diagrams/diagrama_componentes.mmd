flowchart LR
    %% ==========================================
    %% DIAGRAMA DE COMPONENTES - Tô De Olho
    %% Versão horizontal para melhor legibilidade
    %% ==========================================

    %% Estilos
    classDef frontend fill:#4285f4,stroke:#1a73e8,stroke-width:2px,color:white,font-weight:bold;
    classDef backend fill:#34a853,stroke:#0d652d,stroke-width:2px,color:white,font-weight:bold;
    classDef modulo fill:#1a73e8,stroke:#1557b0,stroke-width:2px,color:white;
    classDef externo fill:#fbbc04,stroke:#ea8600,stroke-width:2px,color:black,font-weight:bold;
    classDef dados fill:#ea4335,stroke:#c5221f,stroke-width:2px,color:white,font-weight:bold;
    classDef transversal fill:#9334e6,stroke:#7627bb,stroke-width:2px,color:white;

    %% ==========================================
    %% CAMADA DE APRESENTAÇÃO
    %% ==========================================
    subgraph Apresentacao ["FRONTEND (Next.js 16)"]
        direction TB
        Pages["Pages"]:::frontend
        Components["Components"]:::frontend
        Hooks["Hooks"]:::frontend
        Services["Services/API"]:::frontend
    end

    %% ==========================================
    %% CAMADA DE NEGÓCIO
    %% ==========================================
    subgraph Negocio ["BACKEND (Go + Gin)"]
        direction TB
        
        subgraph API ["API REST"]
            Router["Router"]:::backend
            Handlers["Handlers"]:::backend
        end

        subgraph Modulos ["Módulos de Domínio"]
            direction TB
            ModSenador["Senador"]:::modulo
            ModCEAPS["CEAPS"]:::modulo
            ModVotacao["Votação"]:::modulo
            ModComissao["Comissão"]:::modulo
            ModProposicao["Proposição"]:::modulo
            ModEmenda["Emenda"]:::modulo
            ModRanking["Ranking"]:::modulo
        end

        subgraph Transversais ["Transversais"]
            direction TB
            Scheduler["Scheduler"]:::transversal
            Cache["Cache"]:::transversal
        end
    end

    %% ==========================================
    %% CAMADA DE INTEGRAÇÃO
    %% ==========================================
    subgraph Integracao ["CLIENTS HTTP"]
        direction TB
        LegisClient["LegisClient"]:::externo
        AdmClient["AdmClient"]:::externo
        TranspClient["TransparenciaClient"]:::externo
    end

    %% ==========================================
    %% CAMADA DE DADOS
    %% ==========================================
    subgraph Dados ["PERSISTÊNCIA"]
        direction TB
        PostgreSQL[("PostgreSQL")]:::dados
        Redis[("Redis")]:::dados
    end

    %% ==========================================
    %% CONEXÕES PRINCIPAIS
    %% ==========================================
    
    Services --> Router
    Router --> Handlers
    Handlers --> Modulos
    Modulos --> PostgreSQL
    ModRanking --> Redis
    Cache --> Redis
    Scheduler -.-> Modulos
    Modulos -.-> Integracao
