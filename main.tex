% Garante modo numerico do abnTeX2 para sincronizar com o estilo bibliografico
\PassOptionsToPackage{num}{abntex2cite}
\documentclass[11pt]{relatorio_tcc_ads_ifba}
\usepackage{float}
\usepackage{amsmath}
\begin{document}

% Aluno/autor do documento (obrigatório)
% e.g. \aluno{Luiz Felipe Torres Farias}
\aluno{Pedro Batista de Almeida Filho}

% Titulo do seu projeto (obrigatório)
% e.g. \titulo{Desenvolvimento de Software XPTO}
\titulo{Tô De Olho: Democratizando a Transparência do Senado Federal através de Dados Abertos}

% Data da sua defesa (obrigatório)
% e.g. \date{21 de janeiro de 2024}
\date{Fevereiro de 2026}

% Orientador (obrigatório)
% Opção: [f] para orientadora. O valor default é [m]
% e.g. \orientador[f]{Flavia Maristela}
% e.g. \orientador{Frederico Barboza}
\orientador{Pablo Vieira Florentino}

% Coorientador (opcional)
% Opção: [f] para coorientadora. O valor default é [m]. Caso não possua coorientador, comentar ou deletar essa linha.
% e.g. \orientador[f]{Flavia Maristela}
% e.g. \orientador{Frederico Barboza}
% \coorientador{NOME}
%\coorientador{}

% Pretextual (obrigatório)
% Comando responsável por imprimir o conteúdo pré-textual (capa e sumário)
\pretextual

% ---------------------------------------------------------------------
% INÍCIO DA PARTE ESCRITA 
% ---------------------------------------------------------------------
\section{Visão geral }

O \textit{Tô De Olho} é uma plataforma \textit{web} de transparência parlamentar focada no Senado Federal. Sua proposta é aproximar cidadãos dos dados legislativos oficiais, convertendo informação dispersa em conhecimento fiscalizável e de fácil compreensão. O projeto vai além dos dados abertos básicos, integrando fontes complexas como a Cota para o Exercício da Atividade Parlamentar dos Senadores (CEAPS) e as ``emendas PIX''. Ao combinar uma arquitetura de \textbf{monolito modular} em Go, ingestão via APIs oficiais (Senado e Portal da Transparência) e um \textit{front-end} em Next.js, a plataforma busca reduzir a assimetria de informação sobre os 81 senadores da República \cite{Gomes2010}.

A literatura de democracia digital evidencia que TICs ampliam possibilidades de participação, mas só geram valor quando articuladas a contextos de uso e inclusão. Avelino et al. mapeiam iniciativas de dados abertos, reforçando que tecnologias precisam ser mediadas por visualizações claras para efetivação do controle social \cite{avelino2021democracia}. Com um corpo legislativo menor e mais "caro" per capita que a Câmara, o Senado carece de ferramentas focadas que cruzem votações nominais com a execução orçamentária de emendas. À luz desses estudos, o \textit{Tô De Olho} procura transformar a transparência passiva em \textit{accountability} ativa, oferecendo rankings e métricas objetivas de desempenho parlamentar \cite{pateman1970, gomes2019}.

% Recomendo manter cada seção ou subseção de texto em um arquivo separado e depois utilizados com o comando include, conforme o exemplo a seguir. Porém, se preferir, também pode deixar seu texto neste arquivo
\input{src/sections/objetivos}
%\input{src/sections/definicoes}

\subsection{Declaração do Problema}

O Senado Federal disponibiliza dados públicos por meio de APIs próprias, enquanto a Controladoria-Geral da União (CGU) mantém o Portal da Transparência com dados de emendas parlamentares. Contudo, essas fontes encontram-se fragmentadas em órgãos distintos: a API Legislativa do Senado concentra informações sobre matérias e votações; a API Administrativa do Senado reúne dados da CEAPS e remunerações de gabinete; e o Portal da Transparência da CGU hospeda os registros de emendas e transferências federais. Para construir uma visão completa de um único senador, o cidadão precisaria consultar três sistemas de dois órgãos diferentes, com interfaces, formatos e periodicidades de atualização distintos.

Essa fragmentação adquire contornos mais graves quando analisamos as ``Transferências Especiais'' --- popularmente conhecidas como ``emendas PIX''. Criada em 2019, essa modalidade dispensa convênio e transfere recursos federais diretamente a estados e municípios. Alencar \cite{alencar2024emendaspix} demonstra que, do total de R\$ 20,5 bilhões transferidos por essa via, apenas R\$ 933 milhões tiveram prestação de contas adequada --- menos de 5\%. Em 2020, primeiro ano de vigência, as transferências especiais representavam 6,4\% das emendas individuais; em 2023, esse percentual saltou para 32,4\%. A distribuição é ainda mais desigual: no mesmo estado, alguns municípios receberam mais de R\$ 4.500 \textit{per capita}, enquanto outros receberam menos de R\$ 1 --- sem qualquer justificativa pública dos parlamentares.

Além da barreira técnica imposta pela fragmentação dos dados, há uma barreira social igualmente relevante. Segundo o Indicador de Alfabetismo Funcional \cite{inaf2024}, 29\% da população brasileira entre 15 e 64 anos é funcionalmente analfabeta, o que limita severamente a capacidade de interpretar planilhas, gráficos e relatórios disponibilizados nos portais oficiais. Nesse contexto, a simples disponibilização de dados brutos não garante transparência efetiva: é necessária uma ferramenta que consolide as informações dispersas e as apresente de forma visual e acessível, permitindo ao cidadão comum avaliar qualitativamente seus representantes \cite{avelino2021democracia}.

\subsection{Proposta de Solução de Software}

Diante da fragmentação de dados descrita e da barreira de letramento que impede o cidadão comum de interpretar planilhas e relatórios oficiais, propõe-se o \textit{Tô De Olho}: uma plataforma \textit{web} de código aberto concebida para centralizar a fiscalização do Senado Federal. A solução integra três APIs oficiais distintas --- Legislativa do Senado, Administrativa do Senado e Portal da Transparência da CGU --- consolidando informações dispersas em uma interface única e acessível.

O sistema organiza os dados em três dimensões complementares do mandato parlamentar:

\begin{itemize}
    \item \textbf{Atividade Legislativa}: votações nominais, participação em comissões, proposições de autoria e relatorias;
    \item \textbf{Gestão de Recursos}: despesas detalhadas da Cota Parlamentar (CEAPS), com identificação de fornecedores e categorias de gasto;
    \item \textbf{Articulação Orçamentária}: emendas parlamentares com destaque para Transferências Especiais (``emendas PIX''), permitindo rastrear o destino dos recursos.
\end{itemize}

O diferencial da plataforma reside em quatro pilares:

\begin{enumerate}
    \item \textbf{Ranking Metodologicamente Fundamentado}: inspirado no \textit{State Legislative Effectiveness Score} (SLES) de Volden e Wiseman \cite{volden2018legislative}, o algoritmo de avaliação pondera produtividade legislativa (35\%), presença em votações (25\%), economia na cota parlamentar (20\%) e participação em comissões (20\%). Os critérios e pesos são públicos, permitindo ao cidadão compreender --- e questionar --- a metodologia;
    
    \item \textbf{Visualização Orientada à Ação}: seguindo os princípios de retórica visual de Hullman \cite{hullman2011visualization}, cada dado absoluto é contextualizado com médias comparativas, reduzindo a possibilidade de interpretações manipuladas e estimulando conclusões informadas;
    
    \item \textbf{Acessibilidade como Requisito}: a interface segue as diretrizes WCAG 2.1 nível AA, garantindo navegação por leitores de tela, contraste adequado e operação via teclado --- essencial para atingir os 29\% de brasileiros funcionalmente analfabetos identificados pelo INAF \cite{inaf2024};
    
    \item \textbf{Consolidação Multi-Fonte}: ao integrar dados de três órgãos distintos em uma única consulta, a plataforma elimina a necessidade de o cidadão navegar por sistemas heterogêneos com formatos e interfaces incompatíveis.
\end{enumerate}

Em síntese, o \textit{Tô De Olho} atua como um ``auditor digital'', automatizando cruzamentos de dados que, manualmente, seriam inviáveis para o eleitor comum. O objetivo não é substituir a análise crítica do cidadão, mas fornecer-lhe ferramentas para exercê-la de forma qualificada.

\subsection{Tecnologias adotadas}

A arquitetura do \textit{Tô De Olho} foi projetada seguindo o padrão de \textbf{monolito modular} \cite{dragoni2017microservices}, escolhido por sua simplicidade de desenvolvimento e deploy, mantendo a organização interna em módulos bem definidos para garantir manutenibilidade. A seguir, justificamos cada escolha tecnológica com base em benchmarks e literatura técnica.

\textbf{Backend --- Golang:}

A linguagem Go foi selecionada para o \textit{backend} após avaliação de alternativas como Node.js e Python. O fator decisivo foi o modelo de \textbf{concorrência nativo}: as \textit{goroutines} são threads leves gerenciadas pelo runtime Go, consumindo aproximadamente 2KB de memória inicial --- em contraste com threads do sistema operacional que utilizam cerca de 1MB cada \cite{nanz2015comparative}. Essa eficiência permite processar centenas de milhares de conexões simultâneas, característica essencial para a ingestão paralela de dados de três APIs distintas. Adicionalmente, a tipagem estática e a compilação para binário único simplificam o \textit{deploy} em contêineres.

O framework \textbf{Gin} foi escolhido por seu roteamento HTTP baseado em \textit{radix tree}, reportando desempenho até 40 vezes superior a frameworks anteriores como Martini \cite{alfian2024gin}. \textbf{GORM} oferece mapeamento objeto-relacional com suporte a migrações, reduzindo a complexidade de gerenciamento do esquema de banco.

\textbf{Banco de Dados --- PostgreSQL e Redis:}

\textbf{PostgreSQL} foi selecionado como banco relacional por sua robustez em consultas analíticas e suporte a índices compostos, essenciais para agregações por senador, período e tipo de despesa. O sistema originou-se em 1986 na Universidade da Califórnia, Berkeley, liderado pelo Professor Michael Stonebraker como sucessor do projeto Ingres \cite{stonebraker1986postgres}. A conformidade ACID garante integridade nas operações de ingestão, enquanto sua adoção pela comunidade \textit{open source} é respaldada por décadas de evolução acadêmica e industrial.

\textbf{Redis} atua como camada de cache para rankings pré-computados e totalizadores de gastos. Por armazenar dados inteiramente em memória RAM, Redis alcança latências típicas entre 100 e 500 microssegundos --- aproximadamente 1.250 vezes mais rápido que SSDs \cite{redis2024}. Essa característica elimina a necessidade de recalcular métricas a cada requisição, atendendo ao requisito de latência inferior a 2 segundos (RNF01).

\textbf{Frontend --- Next.js 15:}

A escolha de \textbf{Next.js} sobre React ``puro'' justifica-se pela necessidade de \textbf{SEO} e performance inicial \cite{salim2024nextjs}. Aplicações React tradicionais utilizam renderização no cliente (CSR), onde motores de busca recebem uma página HTML vazia que depende de JavaScript para exibir conteúdo --- prejudicando a indexação. Next.js resolve esse problema com \textit{Server-Side Rendering} (SSR) e \textit{Static Site Generation} (SSG), entregando HTML pré-renderizado aos \textit{crawlers}. Estudos indicam melhorias significativas em métricas de Core Web Vitals como First Contentful Paint (FCP) e Largest Contentful Paint (LCP) \cite{nextjsseo2024}.

A biblioteca \textbf{Recharts} foi selecionada para visualização de dados por sua integração nativa com React e suporte a gráficos responsivos \cite{recharts2024}. \textbf{Tailwind CSS} permite estilização eficiente com classes utilitárias; a partir da versão 4, o modo \textit{Just-In-Time} (JIT) gera apenas o CSS utilizado em cada página, resultando em bundles frequentemente inferiores a 10KB \cite{tailwindcss2024}.

\textbf{Infraestrutura e DevOps:}

O sistema é containerizado com \textbf{Docker} e implantado no \textbf{Google Cloud Run}, plataforma serverless que oferece escala automática (inclusive a zero, eliminando custos quando inativo). A escolha por Cloud Run ao invés de Kubernetes foi motivada pela simplicidade operacional: um único Dockerfile para toda a aplicação, sem necessidade de gerenciar clusters ou manifestos complexos.

O pipeline de \textbf{CI/CD} com GitHub Actions automatiza \textit{build}, testes e \textit{deploy}, garantindo que cada \textit{commit} na branch principal passe por validação antes de chegar à produção.

\textbf{Fontes de Dados:}

O sistema integra três fontes oficiais com características distintas:
\begin{itemize}
    \item \textbf{API Legislativa do Senado}: dados de votações, matérias e comissões em formato JSON, com paginação para grandes volumes;
    \item \textbf{API Administrativa do Senado}: despesas CEAPS disponíveis via endpoint REST, com opção de download em CSV para carga histórica;
    \item \textbf{API do Portal da Transparência (CGU)}: dados de emendas parlamentares, requerendo autenticação via chave de API.
\end{itemize}

\subsection{Trabalhos Relacionados}

Diversas iniciativas no Brasil e no mundo buscam promover a transparencia politica por meio da tecnologia. A luz da Escada de Participacao de Arnstein \cite{arnstein1969ladder}, podemos classificar essas ferramentas conforme o grau de poder que conferem ao cidadao.

\subsubsection{Portais Oficiais (Nivel Informacao)}

\textbf{Portal da Transparencia (CGU):} Principal ferramenta oficial do governo federal para acesso a dados de gastos publicos, servidores e transferencias. Embora abrangente, sua interface e voltada para consultas tecnicas, exigindo conhecimento previo sobre a estrutura orcamentaria. O cidadao tem acesso aos dados brutos, mas sem ferramentas de analise comparativa ou visualizacoes contextualizadas.

\textbf{Portais de Dados Abertos (Camara e Senado):} Disponibilizam APIs e arquivos para download seguindo principios de \textit{Open Government Data}. Essenciais para desenvolvedores e pesquisadores, porem inacessiveis ao cidadao comum por exigirem conhecimento tecnico. Situam-se no degrau mais basico da informacao --- dados brutos sem interpretacao.

\subsubsection{Ferramentas de Fiscalizacao da Camara dos Deputados}

O ecossistema de transparencia para a Camara dos Deputados e mais desenvolvido que para o Senado, contando com diversas iniciativas:

\textbf{Operacao Serenata de Amor:} Projeto de codigo aberto que utiliza inteligencia artificial para detectar irregularidades em gastos parlamentares \cite{albuquerque2018serenata}. Composto pela \textit{Rosie} (algoritmo de \textit{machine learning} que analisa notas fiscais) e pelo \textit{Jarbas} (interface web para consulta de suspeitas). Entre 2016 e 2018, analisou mais de 3 milhoes de reembolsos e gerou milhares de denuncias formais ao Congresso.

\textbf{De Olho no Congresso:} Plataforma \textit{web} moderna focada em gastos de Deputados Federais \cite{deolhonocongresso2024}. Oferece interface acessivel com: (1) rankings comparativos de gastos por deputado e partido; (2) graficos de evolucao mensal de despesas; (3) \textbf{painel de alertas} que sinaliza automaticamente gastos suspeitos --- valores acima da media, despesas repetidas, pagamentos em fins de semana; e (4) visualizacao de emendas parlamentares por area. Com mais de 94 mil consultas realizadas, demonstra alta aceitacao entre usuarios. Limita-se, porem, a Camara dos Deputados e nao oferece metricas de desempenho legislativo.

\textbf{Base dos Dados --- De Olho na Camara:} Plataforma que disponibiliza dados legislativos em \textit{datalake} publico \cite{basedosdados2024}. Publica analises sobre producao legislativa e despesas parlamentares, voltada para analistas e jornalistas de dados. Diferente do \textit{De Olho no Congresso}, seu foco e fornecer dados estruturados para reuso, nao visualizacoes para o cidadao comum.

\textbf{De Olho em Voce:} Plataforma de codigo aberto que oferece rankings de gastos e visualizacao de emendas PIX em mapas geoespaciais. Inspirou a concepcao inicial do \textit{To De Olho}, porem nao explicita a metodologia de seus rankings.

\subsubsection{Experiencias Internacionais}

\textbf{TheyWorkForYou (Reino Unido):} Desenvolvida pela organizacao mySociety \cite{mysociety2024}, monitora os parlamentos britanicos desde 2004 \cite{theyworkforyou2024}. Permite aos cidadaos identificar representantes locais, acompanhar votacoes e receber alertas sobre temas especificos. Referencia em \textit{civic tech} parlamentar.

\textbf{OpenSecrets (Estados Unidos):} Organizacao nao-partidaria que rastreia financiamento de campanhas e gastos de lobbying desde 1983 \cite{opensecrets2024}. Foco na influencia do dinheiro na politica, consolidou-se como referencia para jornalistas investigativos.

\subsubsection{Lacuna Identificada e Diferencial do To De Olho}

A analise dos trabalhos relacionados revela uma \textbf{lacuna significativa}: enquanto a Camara dos Deputados conta com multiplas ferramentas de fiscalizacao (De Olho no Congresso, Serenata de Amor, De Olho em Voce), o \textbf{Senado Federal} carece de solucao equivalente. Essa assimetria e agravada pelo fato de cada senador representar maior custo per capita e mandato mais longo (8 anos vs. 4 anos).

O \textit{To De Olho} posiciona-se para preencher essa lacuna, diferenciando-se por:

\begin{enumerate}
    \item \textbf{Foco no Senado Federal}: Casa legislativa menos coberta por ferramentas de fiscalizacao;
    \item \textbf{Consolidacao Multi-Fonte}: Integra tres APIs distintas (Legislativa, Administrativa e Portal da Transparencia) em interface unica;
    \item \textbf{Metodologia Transparente}: Inspirado no \textit{Legislative Effectiveness Score} de Volden e Wiseman \cite{volden2018legislative}, expoe claramente criterios e pesos do ranking;
    \item \textbf{Rastreamento de Emendas PIX}: Monitora transferencias especiais, modalidade criada em 2020 com baixa prestacao de contas \cite{alencar2024emendaspix}.
\end{enumerate}

% Fundamentação Teórica - Conceitos base do projeto
\input{src/sections/fundamentacao}

% Metodologia - Abordagem de desenvolvimento e arquitetura
\input{src/sections/metodologia}

\section{Requisitos}

\subsection{Requisitos Funcionais}

\textbf{Módulo de Senadores:}
\begin{itemize}
    \item \textbf{[RF01]} O sistema deve apresentar a lista atualizada dos 81 senadores com foto, partido e estado.
    \item \textbf{[RF02]} O sistema deve permitir a busca de senadores por nome, sigla partidária ou UF.
    \item \textbf{[RF03]} O sistema deve exibir o "Score" do senador baseado no algoritmo de ranking do projeto.
\end{itemize}

\textbf{Módulo de Transparência Financeira (CEAPS):}
\begin{itemize}
    \item \textbf{[RF04]} O sistema deve importar os lançamentos da Cota Parlamentar (CEAPS) através de arquivos CSV/Dados Abertos.
    \item \textbf{[RF05]} O sistema deve permitir visualizar o gasto acumulado por tipo de despesa (passagens, correios, consultorias).
    \item \textbf{[RF06]} O sistema deve exibir os fornecedores que mais receberam recursos de um determinado senador.
\end{itemize}

\textbf{Módulo de Emendas e Orçamento:}
\begin{itemize}
    \item \textbf{[RF07]} O sistema deve integrar com o Portal da Transparência para buscar emendas de autoria do senador.
    \item \textbf{[RF08]} O sistema deve destacar valores destinados via "Transferências Especiais" (emendas PIX).
\end{itemize}

\textbf{Módulo de Atividade Legislativa:}
\begin{itemize}
    \item \textbf{[RF09]} O sistema deve listar as votações nominais recentes e o voto de cada senador (Sim/Não/Abstenção).
\end{itemize}

\subsection{Requisitos Não-Funcionais}

\textbf{Desempenho:}
\begin{itemize}
    \item \textbf{[RNF01]} O sistema deve responder a requisições de consulta em até 2 segundos sob condições normais de uso.
    \item \textbf{[RNF02]} A arquitetura deve suportar escalabilidade horizontal para lidar com picos de acesso em períodos eleitorais.
\end{itemize}

\textbf{Usabilidade e Acessibilidade:}
\begin{itemize}
    \item \textbf{[RNF03]} O sistema deve ser acessível via navegadores \textit{web} em dispositivos \textit{desktop} e \textit{mobile}.
    \item \textbf{[RNF04]} A interface deve seguir o padrão \textit{mobile-first} para garantir boa experiência em dispositivos móveis.
    \item \textbf{[RNF05]} O sistema deve seguir as diretrizes de acessibilidade WCAG 2.1 nível AA.
\end{itemize}

\textbf{Confiabilidade:}
\begin{itemize}
    \item \textbf{[RNF06]} Os dados devem ser sincronizados diariamente com as APIs oficiais do Senado Federal e Portal da Transparência.
    \item \textbf{[RNF07]} O sistema deve manter disponibilidade mínima de 99\% durante o período eleitoral.
\end{itemize}

\textbf{Segurança:}
\begin{itemize}
    \item \textbf{[RNF08]} As comunicações devem ser criptografadas utilizando HTTPS/TLS.
    \item \textbf{[RNF10]} O sistema deve estar em conformidade com a LGPD (Lei Geral de Proteção de Dados).
\end{itemize}

\textbf{Manutenibilidade:}
\begin{itemize}
    \item \textbf{[RNF09]} O sistema deve estar em conformidade com a LGPD (Lei Geral de Proteção de Dados).
    \item \textbf{[RNF10]} A arquitetura modular deve permitir atualizações isoladas de cada módulo.
    \item \textbf{[RNF11]} O código deve seguir padrões de desenvolvimento e estar documentado.
    \item \textbf{[RNF12]} O sistema deve possuir \textit{pipelines} de CI/CD para integração e deploy contínuos.
\end{itemize}

\section{Design}
\subsection{Projeto UML}
O projeto utiliza a Unified Modeling Language (UML) para documentar visualmente a estrutura e o comportamento do sistema. Abaixo são apresentados os diagramas essenciais para o entendimento da arquitetura proposta.

\subsubsection{Diagrama de Classes}
O Diagrama de Classes modela a estrutura estática do domínio. As principais entidades identificadas são:

\begin{itemize}
    \item \textbf{Senador}: Representa o parlamentar, contendo atributos como Identificador, Nome, Partido e Estado.
    \item \textbf{Despesa}: Representa um lançamento na CEAPS, associada a um Senador e um Fornecedor.
    \item \textbf{Votacao}: Representa uma sessão deliberativa no Plenário, composta por múltiplos Votos.
    \item \textbf{Emenda}: Representa verba orçamentária destinada pelo senador, contendo Valor, Ano e Beneficiário.
\end{itemize}

\begin{figure}[H]
    \centering
    \caption{Diagrama de Classes Simplificado (Conceitual)}
    % Placeholder para imagem
    \includegraphics[width=0.8\textwidth]{docs/diagrama_classes.png} 
    \par\small{Fonte: Autoria Própria}
\end{figure}

\subsubsection{Diagrama de Implantação}
O sistema é implantado em nuvem (GCP), utilizando orquestração de containers.

\begin{figure}[H]
    \centering
    \caption{Diagrama de Implantação e Infraestrutura}
    % Placeholder para imagem
    \includegraphics[width=0.8\textwidth]{docs/diagrama_implantacao.png}
    \par\small{Fonte: Autoria Própria}
\end{figure}

\subsection{Visão arquitetural}

O \textit{Tô De Olho} adota uma arquitetura de \textbf{monolito modular}, onde os componentes são organizados internamente em módulos bem definidos, mas compartilham um único processo de deploy. Essa escolha arquitetural foi motivada pelos seguintes fatores:

\begin{itemize}
    \item \textbf{Simplicidade de Deploy}: um único container simplifica a infraestrutura e reduz custos operacionais;
    \item \textbf{Manutenibilidade}: a organização em módulos internos permite atualizações isoladas sem a complexidade de orquestração distribuída;
    \item \textbf{Evolução Futura}: a estrutura modular permite migração gradual para microsserviços, se necessário.
\end{itemize}

\textbf{Módulos Internos:}
\begin{itemize}
    \item \texttt{internal/senador}: Gerencia dados cadastrais dos parlamentares e mandatos;
    \item \texttt{internal/ceaps}: Processa e totaliza despesas da Cota Parlamentar;
    \item \texttt{internal/votacao}: Armazena e consulta votações nominais em plenário;
    \item \texttt{internal/emenda}: Integração com Portal da Transparência para emendas parlamentares;
    \item \texttt{internal/ranking}: Cálculo e agregação de scores de desempenho.
\end{itemize}

\textbf{Estratégia de Ingestão de Dados:}

A plataforma utiliza uma estratégia híbrida de ingestão:
\begin{enumerate}
    \item \textbf{Backfill}: carga inicial histórica através das APIs do Senado, processando dados desde 2019;
    \item \textbf{Sincronização Contínua}: \textit{CronJobs} diários às 03:00 BRT que consomem as APIs oficiais para manter os dados atualizados.
\end{enumerate}

\textbf{Infraestrutura:}

O sistema é containerizado com Docker e implantado no Google Cloud Run, que oferece:
\begin{itemize}
    \item \textbf{Escala a Zero}: sem custos quando não há tráfego;
    \item \textbf{Deploy Simplificado}: um único Dockerfile para toda a aplicação;
    \item \textbf{Escalabilidade Automática}: instâncias são criadas sob demanda durante picos de acesso.
\end{itemize}

\subsection{Modelo de Banco de Dados}
O modelo de dados relacional foi projetado para garantir integridade e eficiência nas consultas analíticas. As tabelas principais são:

\begin{itemize}
    \item \textbf{TB\_SENADORES}: Tabela mestre. PK: \texttt{codigo\_senado}. Colunas: nome, partido, uf, url\_foto.
    \item \textbf{TB\_MANDATOS}: Histórico de legislaturas. FK para \texttt{TB\_SENADORES}.
    \item \textbf{TB\_DESPESAS\_CEAPS}: Armazena cada nota fiscal reembolsada. FK para \texttt{TB\_SENADORES}. Colunas: valor, data, tipo\_despesa, cnpj\_fornecedor, url\_documento. Indexada por senador e ano para performance em buscas.
    \item \textbf{TB\_VOTACOES}: Cabeçalho das votações. PK: \texttt{codigo\_sessao}.
    \item \textbf{TB\_VOTOS}: Tabela de junção (\textit{many-to-many}) entre Senadores e Votações, registrando o voto individual (Sim/Não).
    \item \textbf{TB\_EMENDAS}: Registra valores destinados. Colunas: valor\_empenhado, valor\_pago, beneficiario, modalidade (ex: Pix).
\end{itemize}

\section{Testes de Software}

\subsection{Projeto de Testes}
A estratégia de qualidade do \textit{Tô De Olho} combina testes em diferentes níveis, aproveitando o ferramental nativo da linguagem Go:

\begin{itemize}
    \item \textbf{Testes Unitários}: Validam regras de negócio isoladas, como o cálculo do "Score" do senador e parsers de CSV. Implementados com o pacote padrão \texttt{testing} do Go, utilizando a técnica de \textit{Table-Driven Tests} para cobrir múltiplos cenários de borda.
    \item \textbf{Testes de Integração}: Validam a comunicação entre os componentes e o banco de dados. Utiliza-se a biblioteca \texttt{testcontainers-go} para subir instâncias efêmeras do PostgreSQL e Redis durante a execução da pipeline, garantindo que as queries e a persistência funcionem como esperado num ambiente controlado.
    \item \textbf{Testes de Contrato (API)}: Asseguram que as respostas dos serviços externos (Senado/Transparência) continuam respeitando os formatos esperados, alertando sobre "Quebras de API" em dependências externas.
\end{itemize}

\section{Implantação}
\subsection{Projeto de Implantação}
A implantação do sistema segue as práticas de \textit{GitOps} e Infraestrutura como Código.

\textbf{Ambiente de Execução:}
O sistema é empacotado em uma imagem Docker otimizada (\textit{multi-stage build}) e implantado no Google Cloud Run. Esta plataforma serverless oferece escala automática baseada na demanda, incluindo escala a zero quando não há tráfego, otimizando custos operacionais.

\textbf{Pipeline de CI/CD:}
Utiliza-se GitHub Actions para automação. A cada \textit{push} na branch principal:
\begin{enumerate}
    \item \textit{Build}: Compilação dos binários Go e checagem de erros;
    \item \textit{Test}: Execução dos testes unitários e de integração;
    \item \textit{Publish}: Criação da imagem Docker e envio para o Google Container Registry;
    \item \textit{Deploy}: Atualização automática do serviço no Cloud Run.
\end{enumerate}

\section{Manual do Usuário Simplificado}

A plataforma é pública e não requer cadastro para consulta, maximizando a transparência.

\begin{enumerate}
    \item \textbf{Acesso}: Navegue para \url{https://todeolho.org.br}.
    \item \textbf{Ranking}: Na página inicial, visualize os "Top 3" senadores em Economia e Presença.
    \item \textbf{Busca}: Utilize a barra superior para digitar o nome de um senador.
    \item \textbf{Detalhes}: Ao clicar em um senador, navegue pelas abas "Gastos" (para ver notas fiscais detalhadas) e "Emendas" (para ver destino das verbas).
    \item \textbf{Fiscalização}: Use o botão "Compartilhar" para enviar ficha do senador nas redes sociais.
\end{enumerate}

\input{src/sections/conclusao}

\section*{Agradecimentos}
Agradeço ao meu orientador, Prof. Pablo Vieira Florentino, pela orientação e apoio durante o desenvolvimento deste trabalho. Aos colegas de curso que contribuíram com discussões e sugestões. À minha família pelo apoio incondicional. Por fim, às comunidades de código aberto que mantiveram as ferramentas e documentações utilizadas neste projeto.

\bibliography{referencias}

\newpage
\section*{Apêndices}

\section*{Glossário, Siglas e Abreviações}

\begin{description}
    \item[API] \textit{Application Programming Interface} --- Interface de programação que permite a comunicação entre sistemas de software.
    \item[CEAPS] Cota para o Exercício da Atividade Parlamentar dos Senadores --- verba destinada ao custeio de despesas relacionadas ao exercício do mandato parlamentar.
    \item[CI/CD] \textit{Continuous Integration / Continuous Deployment} --- práticas de integração e implantação contínuas de software.
    \item[ETL] \textit{Extract, Transform, Load} --- processo de extração, transformação e carga de dados.
    \item[GCP] \textit{Google Cloud Platform} --- plataforma de serviços em nuvem do Google.
    \item[LES] \textit{Legislative Effectiveness Score} --- metodologia para avaliação de efetividade legislativa desenvolvida por Volden e Wiseman.
    \item[LGPD] Lei Geral de Proteção de Dados --- legislação brasileira sobre privacidade e proteção de dados pessoais.
    \item[MVP] \textit{Minimum Viable Product} --- produto mínimo viável, versão inicial com funcionalidades essenciais.
    \item[ORM] \textit{Object-Relational Mapping} --- técnica de mapeamento objeto-relacional para persistência de dados.
    \item[PIX] Sistema de pagamentos instantâneos do Banco Central; no contexto parlamentar, refere-se às ``Emendas PIX'' (Transferências Especiais) --- modalidade de repasse que dispensa convênio.
    \item[REST] \textit{Representational State Transfer} --- estilo arquitetural para APIs \textit{web}.
    \item[SSR] \textit{Server-Side Rendering} --- renderização de páginas no servidor.
    \item[TIC] Tecnologias da Informação e Comunicação.
    \item[TTL] \textit{Time To Live} --- tempo de vida de dados em cache.
    \item[UF] Unidade Federativa --- estado brasileiro.
    \item[WCAG] \textit{Web Content Accessibility Guidelines} --- diretrizes de acessibilidade para conteúdo \textit{web}.
\end{description}


\end{document}
