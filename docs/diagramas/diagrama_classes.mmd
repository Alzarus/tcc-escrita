classDiagram
    direction TB

    %% ==========================================
    %% DIAGRAMA DE CLASSES - Tô De Olho
    %% Modelo de Domínio do Backend (Go/GORM)
    %% ==========================================

    class Senador {
        +int ID
        +int CodigoParlamentar
        +string Nome
        +string NomeCompleto
        +string Partido
        +string UF
        +string FotoURL
        +string Email
        +bool EmExercicio
        +datetime CreatedAt
        +datetime UpdatedAt
        --
        +TableName() string
    }

    class Mandato {
        +int ID
        +int SenadorID
        +int Legislatura
        +datetime Inicio
        +datetime Fim
        +string Tipo
        +datetime CreatedAt
        --
        +TableName() string
    }

    class DespesaCEAPS {
        +int ID
        +int SenadorID
        +int Ano
        +int Mes
        +string TipoDespesa
        +string Fornecedor
        +string CNPJCPF
        +string Documento
        +datetime DataEmissao
        +float64 Valor
        +int64 ValorCentavos
        +datetime CreatedAt
        +datetime UpdatedAt
        --
        +TableName() string
        +BeforeCreate(db) error
    }

    class Votacao {
        +int ID
        +int SenadorID
        +string SessaoID
        +string CodigoSessao
        +datetime Data
        +string Voto
        +string DescricaoVotacao
        +string Materia
        +datetime CreatedAt
        +datetime UpdatedAt
        --
        +TableName() string
    }

    class Emenda {
        +uint ID
        +uint SenadorID
        +int Ano
        +string Numero
        +string Tipo
        +string FuncionalProgramatica
        +string Localidade
        +float64 ValorEmpenhado
        +float64 ValorPago
        +datetime DataUltimaAtualizacao
    }

    class ComissaoMembro {
        +int ID
        +int SenadorID
        +string CodigoComissao
        +string SiglaComissao
        +string NomeComissao
        +string SiglaCasaComissao
        +string DescricaoParticipacao
        +datetime DataInicio
        +datetime DataFim
        +datetime CreatedAt
        +datetime UpdatedAt
        --
        +TableName() string
    }

    class Proposicao {
        +int ID
        +int SenadorID
        +string CodigoMateria
        +string SiglaSubtipoMateria
        +string NumeroMateria
        +int AnoMateria
        +string DescricaoIdentificacao
        +string Ementa
        +string SituacaoAtual
        +datetime DataApresentacao
        +string EstagioTramitacao
        +int Pontuacao
        +datetime CreatedAt
        +datetime UpdatedAt
        --
        +TableName() string
        +CalcularPontuacao() int
    }

    class SenadorScore {
        +int SenadorID
        +string Nome
        +string Partido
        +string UF
        +string FotoURL
        +float64 Produtividade
        +float64 Presenca
        +float64 EconomiaCota
        +float64 Comissoes
        +float64 ScoreFinal
        +int Posicao
        +ScoreDetalhes Detalhes
        +datetime CalculadoEm
    }

    class ScoreDetalhes {
        +int TotalProposicoes
        +int ProposicoesAprovadas
        +int TransformadasEmLei
        +int PontuacaoProposicoes
        +int TotalVotacoes
        +int VotacoesParticipadas
        +float64 TaxaPresencaBruta
        +float64 GastoCEAPS
        +float64 TetoCEAPS
        +int ComissoesAtivas
        +int ComissoesTitular
        +int ComissoesSuplente
        +float64 PontosComissoes
    }

    %% ==========================================
    %% RELACIONAMENTOS
    %% ==========================================

    Senador "1" --o "*" Mandato : possui
    Senador "1" --o "*" DespesaCEAPS : registra
    Senador "1" --o "*" Votacao : participa
    Senador "1" --o "*" Emenda : destina
    Senador "1" --o "*" ComissaoMembro : integra
    Senador "1" --o "*" Proposicao : autoria
    Senador "1" ..> "1" SenadorScore : gera
    SenadorScore "1" *-- "1" ScoreDetalhes : contém
